### Сервер загрузки

Этот плагин может упаковывать и выгружать файлы пакетов данных на указанный сервер. Если мобильный телефон и компьютер находятся в одной локальной сети и компьютер используется в качестве локального сервера, файлы пакетов данных мобильного телефона могут быть автоматически синхронизированы с компьютером. Конечно, конфигурацию можно загрузить на удаленный сервер, принцип тот же. Кроме того, загрузка пакета данных запускается каждый раз, когда захват пакета прекращается.

**Этот плагин доступен только в премиум-версии**

Это руководство призвано объяснить, как настроить локальный сервер на компьютере и загрузить сетевые пакеты, захваченные HttpCanary, на компьютер.

#### Настроить файл плагина HttpCanary

Настройте IP-адрес компьютера в config.json в каталоге / HttpCanary / plugins / PacketsUpload, например, 192.168.1.4, а номер порта - 9090. В то же время мы настроили собственный заголовок (необязательно).
```json
{
  "hello": "ok",
  "server": "http://192.168.1.4:9090"
}
```

#### Настроить локальный сервер

Nodejs здесь используется для быстрой сборки сервера, конечно, можно использовать и другие фреймворки. Код nodejs сервера предоставлен на github, который можно запустить напрямую, [щелкните меня, чтобы просмотреть](https://github.com/MegatronKing/HttpCanary/tree/master/plugins/PacketsUpload).

##### 1. Установите nodejs

Во-первых, вам необходимо установить nodejs, который можно загрузить с [официального сайта](https://nodejs.org), или вы можете использовать диспетчер пакетов, который поставляется с вашим компьютером.

##### 2. Настроить код сервера

Загрузите два вышеуказанных файла app.js и package.json и поместите их в один каталог:
```
    .
    ├── app.js
    └── package.json
```

Запустите команду npm, чтобы установить зависимые пакеты:
```
npm install
```

##### 3. Запускаем сервер

Выполните команду узла, чтобы запустить сервер:
```
node app.js
```

Сделайте это на своем мобильном телефоне, и когда захват пакета будет завершен, вы увидите синхронизированный файл пакета данных в папке сервера! Формат файла пакета данных имеет двоичный формат hcy. Его можно открыть напрямую без соответствующего программного обеспечения на ПК, но для анализа можно использовать такие файлы, как HEX.

##### 4. Вопросы, требующие внимания

**В целях вашей конфиденциальности не настраивайте адреса серверов из неизвестных источников**